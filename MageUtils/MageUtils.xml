<?xml version="1.0" encoding="utf-8"?>
<Ui xmlns="http://www.blizzard.com/wow/ui/">

    <!-- MageUtils Alliance Teleport Frame -->
    <Frame name="MageUtilsAllianceTeleportFrame" hidden="true" movable="true" enableMouse="true">
        <Size>
            <AbsDimension x="200" y="100"/>
        </Size>
        <Anchors>
            <Anchor point="CENTER"/>
        </Anchors>
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
            <TileSize>
                <AbsValue val="32"/>
            </TileSize>
            <EdgeSize>
                <AbsValue val="13"/>
            </EdgeSize>
            <BackgroundInsets>
                <AbsInset left="2" right="2" top="2" bottom="2"/>
            </BackgroundInsets>
        </Backdrop>
        <Layers>
            <Layer level="ARTWORK">
                <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Teleport">
                    <Anchors>
                        <Anchor point="BOTTOMRIGHT">
                            <Offset>
                            <AbsDimension x="-15" y="5"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                    <FontHeight>
                        <AbsValue val="8"/>
                    </FontHeight>
                </FontString>
            </Layer>
        </Layers>
        <Frames>
            <!-- Teleport to Stormwind Button -->
            <Button name="$parentTeleportSW" inherits="SecureActionButtonTemplate">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="10" y="-10"/>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportStormwind"/>
                    </Layer>
                </Layers>
                <Scripts>
                    <OnLoad>
                        self:SetAttribute("type1", "spell")
                        self:SetAttribute("spell", GetSpellInfo(3561))
                    </OnLoad>
                    <OnEnter>
                        GameTooltip:SetOwner(self, ANCHOR_TOPLEFT)
                        GameTooltip:AddLine("Teleport: Stormwind")
                        GameTooltip:Show()
                    </OnEnter>
                    <OnLeave>
                        GameTooltip:Hide()
                    </OnLeave>
                </Scripts>
            </Button>

            <!-- Teleport to Ironforge Button -->
            <Button name="$parentTeleportIF" inherits="SecureActionButtonTemplate">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="35" y="-10"/>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportIronforge"/>
                    </Layer>
                </Layers>
                <Scripts>
                    <OnLoad>
                        self:SetAttribute("type1", "spell")
                        self:SetAttribute("spell", GetSpellInfo(3562))
                    </OnLoad>
                    <OnEnter>
                        GameTooltip:SetOwner(self, ANCHOR_TOPLEFT)
                        GameTooltip:AddLine("Teleport: Ironforge")
                        GameTooltip:Show()
                    </OnEnter>
                    <OnLeave>
                        GameTooltip:Hide()
                    </OnLeave>
                </Scripts>
            </Button>

            <!-- Teleport to Darnassus Button -->
            <Button name="$parentTeleportIF" inherits="SecureActionButtonTemplate">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="60" y="-10"/>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportDarnassus"/>
                    </Layer>
                </Layers>
                <Scripts>
                    <OnLoad>
                        self:SetAttribute("type1", "spell")
                        self:SetAttribute("spell", GetSpellInfo(3565))
                    </OnLoad>
                    <OnEnter>
                        GameTooltip:SetOwner(self, ANCHOR_TOPLEFT)
                        GameTooltip:AddLine("Teleport: Darnassus")
                        GameTooltip:Show()
                    </OnEnter>
                    <OnLeave>
                        GameTooltip:Hide()
                    </OnLeave>
                </Scripts>
            </Button>

            <Button name="$parentHearth" inherits="SecureActionButtonTemplate">
                <Size>
                    <AbsDimension x="15" y="15"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOM">
                        <Offset>
                            <AbsDimension x="-80" y="5"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture name="$parentTelDalTexture" file="Interface\Icons\inv_misc_rune_01"/>
                    </Layer>
                </Layers>
                <Scripts>
                    <OnLoad>
                        this:SetAttribute("type1", "item")
                        this:SetAttribute("item", GetItemInfo(6948))
                    </OnLoad>
                    <OnEnter>
                        GameTooltip:SetOwner(this, ANCHOR_TOPLEFT);
                        GameTooltip:AddLine("Hearthstone")
                        GameTooltip:Show()
                    </OnEnter>
                    <OnLeave>
                        GameTooltip:Hide()
                    </OnLeave>
                </Scripts>
            </Button>     
            
            <Button name="$parentClose" inherits="OptionsButtonTemplate" text=" ">
                    <Size>
                    <AbsDimension x="40" y="12"/>
                    </Size>
                    <Anchors>
                        <Anchor point="BOTTOM">
                            <Offset>
                            <AbsDimension x="0" y="5"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                    <Layers>
                        <Layer level="ARTWORK">
                            <FontString name="$parentText" font="Fonts\FRIZQT__.TTF" inherits="GameFontNormal" text="Close">
                                <Anchors>
                                    <Anchor point="Center">
                                        <Offset>
                                        <AbsDimension x="0" y="0"/>
                                        </Offset>
                                    </Anchor>
                                </Anchors>
                                <FontHeight>
                                    <AbsValue val="8"/>
                                </FontHeight>
                            </FontString>
                        </Layer>
                    </Layers>
                    <Scripts>
                        <OnClick>
                            MageUtilsAllianceTeleportFrame:Hide();
                        </OnClick>
                    </Scripts>
            </Button>
        </Frames>

        <!-- Make the frame draggable -->
        <Scripts>
            <OnLoad>
                self:SetMovable(true)
                self:RegisterForDrag("LeftButton")
            </OnLoad>
            <OnDragStart>
                self:StartMoving()
            </OnDragStart>
            <OnDragStop>
                self:StopMovingOrSizing()
            </OnDragStop>
            <OnShow>
                local runeofTele = GetItemCount(17031)
                MageUtilsAllianceTeleportFrameText:SetText("Teleport:"..runeofTele)
            </OnShow>
        </Scripts>
    </Frame>

    <!-- MageUtils Horde Teleport Frame -->
    <Frame name="MageUtilsHordeTeleportFrame" hidden="true" movable="true" enableMouse="true">
        <Size>
            <AbsDimension x="200" y="100"/>
        </Size>
        <Anchors>
            <Anchor point="CENTER"/>
        </Anchors>
        <Backdrop bgFile="Interface\DialogFrame\UI-DialogBox-Background" edgeFile="Interface/Tooltips/UI-Tooltip-Border" tile="true">
        <TileSize>
            <AbsValue val="32"/>
        </TileSize>
        <EdgeSize>
            <AbsValue val="13"/>
        </EdgeSize>
        <BackgroundInsets>
            <AbsInset left="2" right="2" top="2" bottom="2"/>
        </BackgroundInsets>
        </Backdrop>
        <Frames>
            <!-- Teleport to Orgrimmar Button -->
            <Button name="$parentTeleportOG" inherits="SecureActionButtonTemplate">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="10" y="-10"/>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture name="$parentTelDalTexture" file="Interface\Icons\Spell_Arcane_TeleportOrgrimmar"/>
                    </Layer>
                </Layers>
                <Scripts>
                    <OnLoad>
                        local swport = GetSpellInfo(3567) <!-- Teleport: Orgrimmar -->
                        if swport ~= nil then
                            self:SetAttribute("type1", "spell")
                            self:SetAttribute("spell", swport)
                        end
                    </OnLoad>
                    <OnEnter>
                        GameTooltip:SetOwner(self, ANCHOR_TOPLEFT)
                        GameTooltip:AddLine("Teleport: Orgrimmar")
                        GameTooltip:Show()
                    </OnEnter>
                    <OnLeave>
                        GameTooltip:Hide()
                    </OnLeave>
                </Scripts>
            </Button>

            <Button name="$parentHearth" inherits="SecureActionButtonTemplate">
                <Size>
                    <AbsDimension x="20" y="20"/>
                </Size>
                <Anchors>
                    <Anchor point="BOTTOM">
                        <Offset>
                            <AbsDimension x="-80" y="10"/>
                        </Offset>
                    </Anchor>
                </Anchors>
                <Layers>
                    <Layer level="BACKGROUND">
                        <Texture name="$parentTelDalTexture" file="Interface\Icons\inv_misc_rune_01"/>
                    </Layer>
                </Layers>
                <Scripts>
                    <OnLoad>
                        this:SetAttribute("type1", "item")
                        this:SetAttribute("item", GetItemInfo(6948))
                    </OnLoad>
                    <OnEnter>
                        GameTooltip:SetOwner(this, ANCHOR_TOPLEFT);
                        GameTooltip:AddLine("Hearthstone")
                        GameTooltip:Show()
                    </OnEnter>
                    <OnLeave>
                        GameTooltip:Hide()
                    </OnLeave>
                </Scripts>
            </Button>     
            
            <Button name="$parentClose" inherits="OptionsButtonTemplate" text="Close">
                    <Size>
                    <AbsDimension x="40" y="12"/>
                    </Size>
                    <Anchors>
                        <Anchor point="BOTTOM">
                            <Offset>
                            <AbsDimension x="0" y="5"/>
                            </Offset>
                        </Anchor>
                    </Anchors>
                    <Scripts>
                        <OnClick>
                            MageUtilsHordeTeleportFrame:Hide();
                        </OnClick>
                    </Scripts>
            </Button>
        </Frames>

        <!-- Make the frame draggable -->
        <Scripts>
            <OnLoad>
                self:SetMovable(true)
                self:RegisterForDrag("LeftButton")
            </OnLoad>
            <OnDragStart>
                self:StartMoving()
            </OnDragStart>
            <OnDragStop>
                self:StopMovingOrSizing()
            </OnDragStop>
        </Scripts>
    </Frame>
</Ui>
